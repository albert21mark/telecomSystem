<h2 class="page-header">Edit Job</h2>
{{#if errors}}
      {{#each errors}}
        <div class="alert alert-danger">{{msg}}</div>
      {{/each}}
{{/if}}
<form method="post" action="/jobs/editJobSubmit">

<div class="container">
  <div class="row">
    <div class="col-sm">
      <label>WOT/Service Order*</label>
      <input type="text" onkeyup="this.value = this.value.toUpperCase();" class="form-control" maxlength="12" placeholder="WOT/Service Order" name="WOT" value="{{WOTValue}}">
    </div>
    <div class="col-sm">
      <label>ASID</label>
      <input type="text" class="form-control" maxlength="10" placeholder="ASID" name="ASID" value="{{ASIDValue}}">
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col-sm">
      <label>Type of Job</label>
      <div class="form-group">
        <select id="jobType" class="form-control" name="jobType">
          <option selected>{{jobTypeValue}}</option>
          <option>OSB</option>
          <option>F1</option>
          <option>Connect</option>
          <option>Build</option>
          <option>Installation of 32MM Pipe</option>
          <option>PDR</option>
          <option>O1</option>
        </select> 
    </div>
    </div>
    <div class="col-sm">
      <label>Partner</label>
      <div class="form-group">
        <select id="partner" class="form-control" name="partner">
          <option selected>{{partnerValue}}</option>
          <option>Visionstream</option>
          <option>UCG</option>
        </select> 
    </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col-sm">
      <label>Address*</label>
      <input type="text" class="form-control" placeholder="Address" name="address" id="address" value="{{addressValue}}">
    </div>
    <div class="col-sm">
      <label>Date Assigned*</label>
    <input type="date" class="form-control" placeholder="Date Assigned" name="dateAssigned" value="{{dateAssignedValue}}">
    </div>
  </div>
</div>
<div class="form-group">
  <label>Assigned To</label>
  <div class="form-group">
      <select id="assignedTo" class="form-control" name="assignedTo">
        <option selected>{{assignedToValue}}</option>
        {{#each usersList}}
          <option>{{name}}</option>
        {{/each}}
      </select> 
  </div>
</div>
  <div class="form-group">
    <label>Job Details</label>
    <textarea class="form-control rounded-0" placeholder="Job Details" name="jobDetails" id="jobDetails" rows="10">{{jobDetailsValue}}</textarea>
  </div>
  <div class="form-group">
    <label>Action Taken</label>
    <textarea class="form-control rounded-0" placeholder="Action Taken" name="actionTaken" id="actionTaken" rows="10">{{actionTakenValue}}</textarea>
  </div>

  <div class="form-group">
    <label>Status</label>
    <div class="form-group">
        <select id="status" class="form-control" name="status">
          <option selected>{{statusValue}}</option>
          <option>Pending</option>
          <option>Done</option>
          <option>Sent</option>
          <option>Claimed</option>
          <option>Delete</option>
        </select> 
    </div>
  </div>
  <button type="submit" class="btn btn-outline-success">Submit</button>
    <a class="btn btn-primary" href="/">Back</a>
  <input type="hidden" name="hiddenID" value="{{hiddenValueID}}">
</form>


<script>
  var searchInput = 'address';

$(document).ready(function () {
    var autocomplete;
    autocomplete = new google.maps.places.Autocomplete((document.getElementById(searchInput)), {
        types: ['geocode'],
        locationBias: {radius: 10000, center: {lat: -36.780800, lng: 174.722000}}
      });
  
    google.maps.event.addListener(autocomplete, 'place_changed', function () {
        var near_place = autocomplete.getPlace();
        document.getElementById('loc_lat').value = near_place.geometry.location.lat();
        document.getElementById('loc_long').value = near_place.geometry.location.lng();
    
        document.getElementById('latitude_view').innerHTML = near_place.geometry.location.lat();
        document.getElementById('longitude_view').innerHTML = near_place.geometry.location.lng();
    });
});


</script>
